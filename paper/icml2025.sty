%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ICML 2025 Style File
% Based on official ICML style with simplifications for Overleaf
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{icml2025}[2024/10/01 ICML 2025 submission/camera-ready style file]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Options
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newif\if@accepted\@acceptedfalse
\newif\if@nohyperref\@nohyperreffalse

\DeclareOption{accepted}{\@acceptedtrue}
\DeclareOption{nohyperref}{\@nohyperreftrue}
\DeclareOption*{\PackageWarning{icml2025}{Unknown option '\CurrentOption'}}
\ProcessOptions\relax

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Required Packages
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{times}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{natbib}
\RequirePackage{graphicx}
\RequirePackage{xcolor}
\RequirePackage{fancyhdr}
\RequirePackage{algorithm}
\RequirePackage{algorithmic}

\if@nohyperref\else
  \RequirePackage{hyperref}
  \hypersetup{
    colorlinks=true,
    linkcolor=blue!70!black,
    citecolor=blue!70!black,
    urlcolor=blue!70!black,
    bookmarks=true,
    bookmarksopen=true
  }
\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Page Layout
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\paperwidth}{8.5in}
\setlength{\paperheight}{11in}

\setlength{\textwidth}{6.5in}
\setlength{\textheight}{9.0in}
\setlength{\oddsidemargin}{0in}
\setlength{\evensidemargin}{0in}
\setlength{\topmargin}{-0.5in}
\setlength{\headheight}{14pt}
\setlength{\headsep}{0.25in}
\setlength{\footskip}{0.5in}
\setlength{\columnsep}{0.25in}

\setlength{\parindent}{1em}
\setlength{\parskip}{0pt}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Typography
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewcommand{\normalsize}{\@setfontsize\normalsize{10}{12}}
\renewcommand{\small}{\@setfontsize\small{9}{11}}
\renewcommand{\footnotesize}{\@setfontsize\footnotesize{8}{10}}
\renewcommand{\scriptsize}{\@setfontsize\scriptsize{7}{9}}
\renewcommand{\tiny}{\@setfontsize\tiny{5}{7}}
\renewcommand{\large}{\@setfontsize\large{12}{14}}
\renewcommand{\Large}{\@setfontsize\Large{14}{18}}
\renewcommand{\LARGE}{\@setfontsize\LARGE{17}{22}}
\renewcommand{\huge}{\@setfontsize\huge{20}{25}}
\renewcommand{\Huge}{\@setfontsize\Huge{25}{30}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title and Authors
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\@icmltitle{}
\def\@icmltitlerunning{}
\def\@icmlauthors{}

\newcommand{\icmltitle}[1]{%
  \def\@icmltitle{#1}%
  \vskip 0.2in%
  {\centering\LARGE\bfseries #1\par}%
  \vskip 0.2in%
}

\newcommand{\icmltitlerunning}[1]{\def\@icmltitlerunning{#1}}

\newenvironment{icmlauthorlist}{%
  \centering%
  \large%
}{%
  \par%
}

\newcommand{\icmlauthor}[2]{#1}
\newcommand{\icmlaffiliation}[2]{\textsuperscript{#1}#2}
\newcommand{\icmlsetsymbol}[2]{}
\newcommand{\icmlcorrespondingauthor}[1]{}
\newcommand{\icmlequalcontribution}{}

\newcommand{\printAffiliationsAndNotice}[1][]{%
  \vskip 0.1in%
  \if@accepted
    {\small\itshape Proceedings of the 42\textsuperscript{nd} International Conference on Machine Learning, Vancouver, Canada, PMLR 267, 2025. Copyright 2025 by the author(s).}%
  \else
    {\small\itshape Preliminary work. Under review by ICML 2025.}%
  \fi%
  \vskip 0.2in%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Abstract
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewenvironment{abstract}{%
  \vskip 0.075in%
  {\centering\large\bfseries Abstract\par}%
  \vskip 0.1in%
  \begin{quote}%
  \small%
}{%
  \end{quote}%
  \vskip 0.2in%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Sections
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewcommand{\section}{%
  \@startsection{section}{1}{\z@}%
  {-2.5ex plus -1ex minus -0.2ex}%
  {1.5ex plus 0.2ex}%
  {\normalfont\large\bfseries}%
}

\renewcommand{\subsection}{%
  \@startsection{subsection}{2}{\z@}%
  {-2.0ex plus -0.5ex minus -0.2ex}%
  {1.0ex plus 0.2ex}%
  {\normalfont\normalsize\bfseries}%
}

\renewcommand{\subsubsection}{%
  \@startsection{subsubsection}{3}{\z@}%
  {-1.5ex plus -0.5ex minus -0.2ex}%
  {0.5ex plus 0.2ex}%
  {\normalfont\normalsize\bfseries}%
}

\renewcommand{\paragraph}{%
  \@startsection{paragraph}{4}{\z@}%
  {1.0ex plus 0.5ex minus 0.2ex}%
  {-1em}%
  {\normalfont\normalsize\bfseries}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Figures and Tables
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\abovecaptionskip}{6pt}
\setlength{\belowcaptionskip}{6pt}

\long\def\@makecaption#1#2{%
  \vskip\abovecaptionskip%
  \sbox\@tempboxa{{\small\bfseries #1:} {\small #2}}%
  \ifdim \wd\@tempboxa > \hsize
    {\small\bfseries #1:} {\small #2}\par%
  \else
    \global\@minipagefalse
    \hb@xt@\hsize{\hfil\box\@tempboxa\hfil}%
  \fi%
  \vskip\belowcaptionskip%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Headers and Footers
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}

\if@accepted
  \fancyhead[C]{\small\itshape\@icmltitlerunning}
  \fancyfoot[C]{\small\thepage}
\else
  \fancyhead[C]{\small\itshape Submitted to ICML 2025}
  \fancyfoot[C]{\small\thepage}
\fi

\fancypagestyle{firstpage}{%
  \fancyhf{}%
  \renewcommand{\headrulewidth}{0pt}%
  \fancyfoot[C]{\small\thepage}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Theorem Environments
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\theoremstyle}[1]{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Algorithm Style
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Footnotes
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewcommand{\footnoterule}{%
  \kern-3pt%
  \hrule width 2in height 0.4pt%
  \kern 2.6pt%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Lists
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\itemsep}{0pt}
\setlength{\parsep}{0pt}
\setlength{\topsep}{4pt}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Bibliography
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\bibliographystyle{icml2025}
\setlength{\bibsep}{3pt}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Small caps environment
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newenvironment{sc}{\scshape}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Convenience Commands
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\ie}{i.e.}
\newcommand{\eg}{e.g.}
\newcommand{\cf}{cf.}
\newcommand{\wrt}{w.r.t.}
\newcommand{\etal}{\textit{et al.}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Convergence symbols
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\rightsquigarrow}{\leadsto}

\endinput
